---
import PageLayout from "@/layouts/Base";
import SocialList from "@/components/SocialList";
import { Image } from "astro:assets";
import { getCollection } from "astro:content";
import { sortMDByDate } from "@/utils";
import profileImg from "../assets/evey-profile.png";

const newsItems = [
	{
		date: "Oct 18-22, 2025",
		location: "Bergen, Norway",
		text: "Attending CSCW 2025 to present AI That Helps Us Help Each Other.",
		link: "https://arxiv.org/abs/2508.11052",
		linkLabel: "Paper",
	},
	{
		date: "May 12, 2025",
		location: "Evanston, USA",
		text: "Talked at Northwestern CBIT about proactive human-AI collaboration.",
	},
	{
		date: "Apr 2, 2025",
		location: "Evanston, USA",
		text: "Presented work at Microsoft AI & Society research seminar.",
	},
	{
		date: "Feb 5, 2025",
		location: "Evanston, USA",
		text: "Started as a postdoctoral fellow at NICO with Prof. Brian Uzzi.",
		link: "https://www.kellogg.northwestern.edu/faculty/directory/uzzi_brian/",
		linkLabel: "Lab",
	},
	{
		date: "Nov 11, 2024",
		location: "Evanston, USA",
		text: "Successfully defended dissertation.",
	},
];

const artImages = ["/1.png", "/2.png", "/3.png"];
const allPosts = sortMDByDate(await getCollection("post", ({ data }) => !data.draft));
const projects = allPosts.slice(0, 3).map((post, index) => ({
	href: `/posts/${post.slug}`,
	label: "Work",
	title: post.data.title,
	image: artImages[index] ?? artImages[0],
}));
---

<PageLayout meta={{ title: "Home", description: "Human-AI collaboration research and engineering portfolio" }}>
	<section class="grid gap-10 lg:grid-cols-[1.35fr_1fr]">
		<div>
			<h1 class="display-title">hi.</h1>
			<p class="mt-8 serif-note">
				I am a postdoctoral research fellow at Kellogg School of Management and the Northwestern
				Institute on Complex Systems (NICO), studying how human-AI systems can better support
				learning, reflection, and collaboration in complex work.
			</p>
		</div>
		<div class="hero-frame">
			<div class="hero-frame-content">
				<Image
					src={profileImg}
					width={340}
					alt="Portrait of Evey Huang"
					class="hero-portrait"
				/>
				<p class="meta-text">Designer, Researcher, Engineer.</p>
				<p class="mt-2 text-3xl font-medium tracking-tight text-accent-2">Evey Huang, PhD.</p>
			</div>
		</div>
	</section>

	<section class="section-block">
		<div class="max-w-4xl space-y-5">
			<p>
				My research sits at the intersection of human-AI collaboration, design research, and
				computational social science. I design and build systems that help people collaborate more
				effectively in entrepreneurship, scientific discovery, and innovation.
			</p>
			<p>
				I earned my PhD from the Technology and Social Behavior program at Northwestern
				University, advised by Prof. Liz Gerber and Prof. Matt Easterday. Right now, I am exploring
				how multimodal AI can help reveal team dynamics and improve high-impact science.
			</p>
			<p>
				Outside research: film and digital photography, tennis, reading, doodling, and cooking spicy
				food. Contact: <a class="cactus-link" href="mailto:evey.huang@kellogg.northwestern.edu">evey.huang@kellogg.northwestern.edu</a>
			</p>
			<SocialList />
		</div>
	</section>

	<section class="section-block">
		<div class="section-head">
			<h2>Projects</h2>
			<p class="section-label">Selected areas</p>
		</div>
		<div class="projects-grid">
			{
				projects.map((project) => (
					<a class="project-card" href={project.href} aria-label={`${project.title} (${project.label})`}>
						<div class="project-art">
							<img class="project-image" src={project.image} alt={`Artwork for ${project.title}`} />
							<p class="meta-text project-label">{project.label}</p>
							<h3 class="project-title">{project.title}</h3>
						</div>
					</a>
				))
			}
		</div>
	</section>

	<section class="section-block">
		<div class="section-head">
			<h2>News</h2>
			<p class="section-label">Recent updates</p>
		</div>
		<ul class="news-list">
			{
				newsItems.map((item) => (
					<li>
						<p class="meta-text">{item.date} Â· {item.location}</p>
						<p class="mt-1 text-[0.98rem]">
							{item.text}
							{item.link && (
								<>
									{" "}
									<a class="cactus-link" href={item.link} target="_blank" rel="noopener noreferrer">
										{item.linkLabel}
									</a>
								</>
							)}
						</p>
					</li>
				))
			}
		</ul>
	</section>
</PageLayout>

<style>
	.hero-frame {
		position: relative;
		display: grid;
		place-items: end;
		min-height: 340px;
	}

	.hero-frame::before {
		content: "";
		position: absolute;
		left: 10%;
		top: 0;
		height: 100%;
		width: 1px;
		background: var(--theme-line-strong);
	}

	.hero-frame::after {
		content: "";
		position: absolute;
		right: 0;
		bottom: 36%;
		width: 82%;
		height: 1px;
		background: var(--theme-line-strong);
	}

	.hero-frame-content {
		position: relative;
		padding-left: 1.25rem;
		margin-bottom: 1.2rem;
	}

	.hero-portrait {
		width: clamp(160px, 22vw, 280px);
		aspect-ratio: 1 / 1;
		object-fit: cover;
		border-radius: 9999px;
		border: 1px solid var(--theme-line);
		margin-left: -2.6rem;
		margin-bottom: 1.1rem;
		position: relative;
		z-index: 2;
		background: #f5f5f3;
	}

	.projects-grid {
		display: grid;
		gap: 1rem;
		grid-template-columns: repeat(3, minmax(0, 1fr));
	}

	.project-card {
		display: block;
		padding: 0.25rem;
		border-radius: 16px;
		background: transparent;
		border: 1px solid transparent;
		transition: transform 220ms ease, border-color 220ms ease;
	}

	.project-card:hover {
		transform: translateY(-2px);
		border-color: var(--theme-line);
	}

	.project-art {
		position: relative;
		height: 240px;
		border-radius: 12px;
		background: var(--theme-bg);
		overflow: hidden;
	}

	.project-image {
		position: absolute;
		inset: 0;
		width: 100%;
		height: 100%;
		object-fit: cover;
		filter: saturate(0.9) contrast(1.01) brightness(0.97);
		mix-blend-mode: multiply;
		opacity: 0.98;
		background: var(--theme-bg);
	}

	.project-label {
		position: absolute;
		left: 1rem;
		top: 1rem;
		color: var(--theme-accent-2);
		opacity: 0.9;
		z-index: 2;
	}

	.project-title {
		position: absolute;
		left: 1rem;
		right: 1rem;
		top: 2.7rem;
		margin: 0;
		font-size: 1.25rem;
		line-height: 1.1;
		font-weight: 600;
		letter-spacing: -0.015em;
		color: var(--theme-accent-2);
		text-wrap: balance;
		text-shadow: 0 1px 0 rgba(255, 255, 255, 0.35);
		z-index: 2;
	}

	@media (max-width: 1023px) {
		.hero-frame {
			min-height: 230px;
		}

		.hero-frame::before {
			left: 0;
		}

		.hero-portrait {
			margin-left: 0;
			width: clamp(170px, 34vw, 260px);
		}

		.projects-grid {
			grid-template-columns: 1fr;
		}

		.project-art {
			height: 220px;
		}
	}
</style>
