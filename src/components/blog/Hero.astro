---
import { getFormattedDate } from "@/utils";
import type { CollectionEntry } from "astro:content";

interface Props {
	content: CollectionEntry<"post">;
}

const { content } = Astro.props;

const datetime = content.data.publishDate.toISOString();
const postDate = getFormattedDate(content.data.publishDate, { month: "long" });
---

<header class="border-b border-line pb-6">
	<p class="meta-text">{postDate}</p>
	<h1 class="mt-3 text-4xl font-semibold tracking-tight text-accent-2 sm:text-5xl">{content.data.title}</h1>
	<p class="mt-5 max-w-3xl text-lg text-muted">{content.data.description}</p>

	{
		!!content.data.tags?.length && (
			<div class="mt-6 flex flex-wrap gap-2" aria-label="Post tags">
				{content.data.tags.map((tag) => (
					<a
						class="button-pill"
						aria-label={`View more blogs with the tag ${tag}`}
						href={`/tags/${tag}`}
					>
						#{tag}
					</a>
				))}
			</div>
		)
	}
	<time datetime={datetime} class="sr-only">{postDate}</time>
</header>
